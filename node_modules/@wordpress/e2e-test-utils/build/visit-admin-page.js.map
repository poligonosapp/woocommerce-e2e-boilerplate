{"version":3,"sources":["@wordpress/e2e-test-utils/src/visit-admin-page.js"],"names":["visitAdminPage","adminPath","query","page","goto","error","Error"],"mappings":";;;;;;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AAXA;AACA;AACA;;AAGA;AACA;AACA;;AAMA;AACA;AACA;AACA;AACA;AACA;SACsBA,c;;;;;4FAAf,iBAA+BC,SAA/B,EAA0CC,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAC,IAAI,CAACC,IAAL,CAAW,0BAAW,gBAAM,UAAN,EAAkBH,SAAlB,CAAX,EAA0CC,KAA1C,CAAX,CADA;;AAAA;AAAA,iBAGD,gCAAc,cAAd,CAHC;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIC,2BAJD;;AAAA;AAAA;AAAA,mBAKCF,cAAc,CAAEC,SAAF,EAAaC,KAAb,CALf;;AAAA;AAAA;AAAA,mBAQc,iCARd;;AAAA;AAQAG,YAAAA,KARA;;AAAA,iBASDA,KATC;AAAA;AAAA;AAAA;;AAAA,kBAUC,IAAIC,KAAJ,CAAW,uCAAuCD,KAAlD,CAVD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * External dependencies\n */\nimport { join } from 'path';\n\n/**\n * Internal dependencies\n */\nimport { createURL } from './create-url';\nimport { isCurrentURL } from './is-current-url';\nimport { loginUser } from './login-user';\nimport { getPageError } from './get-page-error';\n\n/**\n * Visits admin page; if user is not logged in then it logging in it first, then visits admin page.\n *\n * @param {string} adminPath String to be serialized as pathname.\n * @param {string} query String to be serialized as query portion of URL.\n */\nexport async function visitAdminPage( adminPath, query ) {\n\tawait page.goto( createURL( join( 'wp-admin', adminPath ), query ) );\n\n\tif ( isCurrentURL( 'wp-login.php' ) ) {\n\t\tawait loginUser();\n\t\tawait visitAdminPage( adminPath, query );\n\t}\n\n\tconst error = await getPageError();\n\tif ( error ) {\n\t\tthrow new Error( 'Unexpected error in page content: ' + error );\n\t}\n}\n"]}