{"version":3,"sources":["/Users/ronrennick/Sites/solaris/woocommerce/packages/js/e2e-core-tests/src/specs/merchant/wp-admin-analytics-page-loads.test.js"],"names":["merchant","waitForSelectorWithoutThrow","require","it","describe","beforeAll","checkHeadingAndElement","pageTitle","element","elementText","expect","page","toMatchElement","text","found","pages","runAnalyticsPageLoadsTest","login","alternative","each","openAnalyticsPage","toLowerCase","module","exports"],"mappings":";;;;AAiBA;;AAjBA;;AACA;AACA;AACA;AACC,MAAM;AACNA,EAAAA,QADM;AAENC,EAAAA;AAFM,IAGHC,OAAO,CAAE,wBAAF,CAHV;AAKD;AACA;AACA;;;AACA,MAAM;AACLC,EAAAA,EADK;AAELC,EAAAA,QAFK;AAGLC,EAAAA;AAHK,IAIFH,OAAO,CAAE,eAAF,CAJX;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMI,sBAAsB,GAAG,gBAC9BC,SAD8B,EAC2E;AAAA,MAA9FC,OAA8F,uEAApF,0BAAoF;AAAA,MAAxDC,WAAwD,uEAA1C,qCAA0C;AACzG,QAAMC,MAAM,CAACC,IAAD,CAAN,CAAaC,cAAb,CAA4B,IAA5B,EAAkC;AAACC,IAAAA,IAAI,EAAEN;AAAP,GAAlC,CAAN,CADyG,CAGzG;;AACA,QAAMO,KAAK,GAAG,MAAMb,2BAA2B,CAAEO,OAAF,CAA/C;;AACA,MAAKM,KAAL,EAAa;AACZ,UAAMJ,MAAM,CAACC,IAAD,CAAN,CAAaC,cAAb,CAA4BJ,OAA5B,EAAqC;AAACK,MAAAA,IAAI,EAAEJ;AAAP,KAArC,CAAN;AACA,GAFD,MAEO;AACN,UAAMC,MAAM,CAACC,IAAD,CAAN,CAAaC,cAAb,CAA6B,oBAA7B,CAAN;AACA;AACA,CAXF,C,CAaC;;;AACD,MAAMG,KAAK,GAAG,CACb,CAAC,UAAD,CADa,EAEb,CAAC,UAAD,CAFa,EAGb,CAAC,SAAD,CAHa,EAIb,CAAC,QAAD,CAJa,EAKb,CAAC,YAAD,CALa,EAMb,CAAC,YAAD,CANa,EAOb,CAAC,SAAD,CAPa,EAQb,CAAC,OAAD,CARa,EASb,CAAC,WAAD,CATa,EAUb,CAAC,OAAD,EAAU,2BAAV,EAAuC,qBAAvC,CAVa,EAWb,CAAC,UAAD,EAAa,IAAb,EAAmB,oBAAnB,CAXa,CAAd;;AAcA,MAAMC,yBAAyB,GAAG,MAAM;AACvCZ,EAAAA,QAAQ,CAAC,qCAAD,EAAwC,MAAM;AACrDC,IAAAA,SAAS,CAAC,YAAY;AACrB,YAAML,QAAQ,CAACiB,KAAT,EAAN;AACA,KAFQ,CAAT;AAIA,6BAAY,2BAAZ,EAAyC;AACxCC,MAAAA,WAAW,EAAE;AAD2B,KAAzC;AAIAf,IAAAA,EAAE,CAACgB,IAAH,CAAQJ,KAAR,EACC,0BADD,EAEC,OAAOR,SAAP,EAAkBC,OAAlB,EAA2BC,WAA3B,KAA2C;AAC1C;AACA,YAAMT,QAAQ,CAACoB,iBAAT,CAA2Bb,SAAS,CAACc,WAAV,EAA3B,CAAN;AACA,YAAMf,sBAAsB,CAACC,SAAD,EAAYC,OAAZ,EAAqBC,WAArB,CAA5B;AACA,KANF;AAQA,GAjBO,CAAR;AAkBA,CAnBD;;AAqBAa,MAAM,CAACC,OAAP,GAAiBP,yBAAjB","sourcesContent":["/* eslint-disable jest/no-export, jest/no-disabled-tests */\n/**\n * Internal dependencies\n */\n const {\n\tmerchant,\n\twaitForSelectorWithoutThrow,\n} = require( '@woocommerce/e2e-utils' );\n\n/**\n * External dependencies\n */\nconst {\n\tit,\n\tdescribe,\n\tbeforeAll,\n} = require( '@jest/globals' );\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Quick check for page title and no data message.\n *\n * @param pageTitle Page title in H1.\n * @param element Defaults to '.d3-chart__empty-message'\n * @param elementText Defaults to 'No data for the selected date range'\n */\nconst checkHeadingAndElement = async (\n\tpageTitle, element = '.d3-chart__empty-message', elementText = 'No data for the selected date range') => {\n\tawait expect(page).toMatchElement('h1', {text: pageTitle});\n\n\t// Depending on order of tests the chart may not be empty.\n\tconst found = await waitForSelectorWithoutThrow( element );\n\tif ( found ) {\n\t\tawait expect(page).toMatchElement(element, {text: elementText});\n\t} else {\n\t\tawait expect(page).toMatchElement( '.woocommerce-chart' );\n\t}\n };\n\n // Analytics pages that we'll test against\nconst pages = [\n\t['Overview'],\n\t['Products'],\n\t['Revenue'],\n\t['Orders'],\n\t['Variations'],\n\t['Categories'],\n\t['Coupons'],\n\t['Taxes'],\n\t['Downloads'],\n\t['Stock', '.components-button > span', 'Product / Variation'],\n\t['Settings', 'h2', 'Analytics Settings']\n];\n\nconst runAnalyticsPageLoadsTest = () => {\n\tdescribe('Analytics > Opening Top Level Pages', () => {\n\t\tbeforeAll(async () => {\n\t\t\tawait merchant.login();\n\t\t});\n\n\t\tdeprecated( 'runAnalyticsPageLoadsTest', {\n\t\t\talternative: '@woocommerce/admin-e2e-tests `testAdminAnalyticsPages()`',\n\t\t});\n\n\t\tit.each(pages)(\n\t\t\t'can see %s page properly',\n\t\t\tasync (pageTitle, element, elementText) => {\n\t\t\t\t// Go to the desired page and verify it\n\t\t\t\tawait merchant.openAnalyticsPage(pageTitle.toLowerCase());\n\t\t\t\tawait checkHeadingAndElement(pageTitle, element, elementText);\n\t\t\t}\n\t\t);\n\t});\n}\n\nmodule.exports = runAnalyticsPageLoadsTest;\n"]}